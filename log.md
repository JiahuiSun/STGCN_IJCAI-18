### Parameters
- len: hangzhou 17.5h; shenzhen 16.5h
- len*(60/interval) timestamps
- (timestamps - n_frame + 1) windows
- 15 5 5 / 18 6 6 train val test
- batch = (15*windows) / batch_size 

### Experiments
1. n_pred=10, lr=0.001, interval=30

| batch size | MAPE | MAE | RMSE |
| --- | --- | --- | --- |
| 16  | 4.106 | 10.242 | 15.177 |
| 32  | 6.971 | 24.476 | 47.421 |
| 50  | 9.344 | 32.533 | 55.894 |
| 64  | 9.517 | 37.436 | 86.654 |
| 128 | 12.189 | 45.324 | 87.714 |
| 256 | 14.089 | 65.057 | 213.309 |

2. batch_size=128

- hangzhou

| interval | MAPE | MAE | RMSE |
| --- | --- | --- | --- |
| 10 | 17.443 | 16.200 | 26.785 |
| 15 | 14.172 | 23.965 | 49.73 |
| 30 | 11.612 | 49.796 | 139.751 |
| 45 | 32.051 | 87.402 | 236.066 |

- shenzhen

| interval | MAPE | MAE | RMSE |
| --- | --- | --- | --- |
| 10 | 24.357 | 10.629 | 16.941 |
| 15 | 20.449 | 13.902 | 20.414 |
| 30 | 17.964 | 23.812 | 38.072 |
| 45 | 12.481 | 18.230 | 41.206 |

3. batch_size = 50

- hangzhou

| interval | MAPE | MAE | RMSE |
| --- | --- | --- | --- |
| 10 | 12.735 | 8.795 | 12.463 |
| 15 | 10.922 | 14.544 | 24.309 |
| 30 | 8.436 | 31.681 | 69.092 |
| 45 | 24.196 | 67.239 | 178.737 |

- shenzhen

| interval | MAPE | MAE | RMSE |
| --- | --- | --- | --- |
| 10 | 17.873 | 5.636 | 8.574 |
| 15 | 15.338 | 7.685 | 11.010 |
| 30 | 12.181 | 12.952 | 22.932 |
| 45 | 13.199 | 18.133 | 40.885 |

### TODO
- 代码无法用更少的历史数据预测：因为卷积核大小为3
- batch越小RMSE越小？
- Time Step 1: MAPE  9.517%,  9.517%; MAE  37.436, 37.436; RMSE 86.654, 86.654. 后两项总是一样什么含义？
